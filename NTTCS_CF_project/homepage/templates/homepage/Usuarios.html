{% extends "base.html" %}

{% block titulo %} Usuarios {% endblock %}

{% block contenido %}
{% load static %}

<!-- PAGINA PARA LA CREACION DE USUARIOS -->
<div class="rowTitulo">
    <!-- Titulo con el nombre de usuarios -->
    <div class="cajaTitulo">
        <h1>Usuarios</h1>
    </div>
</div>

<!-- fila de contenido para creacion de usuario -->
<div class="rowTitulo">
    <div class="cajaSeleccionAsssessment">
        <div class="tarjeta">
            <!-- titulo de modificacion de usuarios -->
            <div class="tituloTarjeta">
                <div class="cuadrotexto">
                    Modificacion usuarios
                </div>
            </div>
            <!-- Caja modificacion de usuario -->
            <div class="textoTarjeta">
                <!-- seleccion de usuario -->
                <div class="cajaTextoSeleccionAssesment contenidoAbajo">
                    <div class="margenArriba">
                        <label> Seleccione un Usuario</label>
                    </div>
                </div>
                <!-- formulario de seleccion de usuario -->
                <form class="cajaTextoSeleccionAssesment" method="post">
                    {% csrf_token %}
                    <div class="cajaSelectorCentrado margenAbajo">
                        <select class="selectpicker" data-width="100%" aria-label="Default select example"
                                data-live-search="true" onchange="this.form.submit()" id="selector1" name="selector1">
                            <option value="None">--- No Seleccionado ---</option>

                            {% for ids in usuarios %}
                            {% if ids.username != 'admin' %}
                            {% if ids.username == seleccion.username %}
                            <option selected value="{{ids.username}}">{{ids.username}}</option>
                            {% else %}
                            <option value="{{ids.username}}">{{ids.username}}</option>
                            {% endif %}
                            {% endif %}
                            {% endfor %}
                        </select>


                    </div>
                </form>

                <!-- formulario pra crear usuario -->
                {% if seleccionado %}
                <form class="textoTarjeta" method="post" autocomplete="off">
                    {% csrf_token %}
                    <!-- titulo -->
                    <div class="cajaTextoSeleccionAssesment contenidoAbajo">
                        <div class="margenArriba">
                            <label> Introduzca el Nombre del usuario</label>
                        </div>
                    </div>


                    <div class="cajaTextoSeleccionAssesment">
                        <div class="cajaSelectorCentrado margenAbajo">
                            <input autocomplete="off" style="height:100%; width:100%; border-radius:5px;" type="text"
                                   name="nUsuarioModificar" id="nUsuarioModificar" value="{{seleccion.username}}">
                        </div>
                    </div>
                    <!-- titulo -->
                    <div class="cajaTextoSeleccionAssesment contenidoAbajo">
                        <div class="margenArriba">
                            <label> Seleccione un rol para el usuario</label>
                        </div>
                    </div>
                    <!-- selector de rol de usuario -->
                    <div class="cajaTextoSeleccionAssesment">
                        <div class="cajaSelectorCentrado margenAbajo">
                            <select class="selectpicker" data-live-search="true" data-width="100%" id="selector3"
                                    name="selector3">
                                <option value="None">--- No Seleccionado ---</option>
                                {% for ids in grupos %}
                                {% if ids == grupoSeleccionado %}
                                <option selected value="{{ids}}">{{ids}}</option>
                                {% else %}
                                <option value="{{ids}}">{{ids}}</option>
                                {% endif %}
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <!-- titulo -->
                    <div class="cajaTextoSeleccionAssesment contenidoAbajo">
                        <div class="margenArriba">
                            <label> Introduzca la contraseña para el usuario</label>
                        </div>
                    </div>
                    <!-- input para contraseña -->
                    <div class="cajaTextoSeleccionAssesment">
                        <div class="cajaSelectorCentrado margenAbajo">
                            <input autocomplete="off" style="height:100%; width:100%; border-radius:5px;"
                                   type="password" name="passwordModificar" id="passwordModificar"
                                   value="{{seleccion.password}}">
                        </div>
                    </div>
                    <!-- boton para insertar usuario -->
                    <div class="cajaBotonModificar">
                        <div class="cajaBotonModificar ">
                            <button style="font-size:1.2vw;" class="btn btn-outline-secondary btn-lg btn-block"
                                    type="submit" id="boton1" name="boton1" value="btn1"><i class="bi bi-pen"></i>
                                Modificar
                            </button>
                        </div>
                        <div class="cajaBotonModificar ">
                            <button style="font-size:1.2vw;" class="btn btn-outline-danger btn-lg btn-block"
                                    type="button" onclick="clicked(this.form);" id="boton2" name="boton2" value="btn2">
                                <i class="bi bi-trash"></i> Eliminar
                            </button>
                        </div>
                    </div>

                </form>
                {% endif %}
            </div>
        </div>
    </div>
</div>


<!-- caja de contenido -->
<div class="rowTitulo">
    <div class="cajaTitulo fontGrande">
        ó
    </div>
</div>

<!-- fija de contenido -->
<div class="rowTitulo">
    <div class="cajaSeleccionAsssessment">
        <div class="tarjeta">
            <!-- titulo -->
            <div class="tituloTarjeta">
                <div class="cuadrotexto">
                    Crear Usuario
                </div>
            </div>
            <!-- formulario para la creacion de usuario -->
            <form class="textoTarjeta" method="post" autocomplete="off">
                {% csrf_token %}
                <!-- titulo -->
                <div class="cajaTextoSeleccionAssesment contenidoAbajo">
                    <div class="margenArriba">
                        <label> Introduzca el Nombre del usuario</label>
                    </div>
                </div>
                <!-- input de nombre de usuario -->
                <div class="cajaTextoSeleccionAssesment">
                    <div class="cajaSelectorCentrado margenAbajo">
                        <input style="height:100%; width:100%; border-radius:5px;" type="text" name="nUsuario"
                               id="nUsuario">
                    </div>
                </div>
                <!-- input de contraseña -->
                <div class="cajaTextoSeleccionAssesment contenidoAbajo">
                    <div class="margenArriba">
                        <label> Seleccione un rol para el usuario</label>
                    </div>
                </div>
                <!-- seleccion de rol de usuario -->
                <div class="cajaTextoSeleccionAssesment">
                    <div class="cajaSelectorCentrado margenAbajo">
                        <select class="selectpicker" data-live-search="true" data-width="100%" id="selector"
                                name="selector">
                            <option value="None">--- No Seleccionado ---</option>
                            {% for ids in grupos %}
                            <option value="{{ids}}">{{ids}}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <!-- input de contraseña -->
                <div class="cajaTextoSeleccionAssesment contenidoAbajo">
                    <div class="margenArriba">
                        <label> Introduzca la contraseña para el usuario</label>
                    </div>
                </div>
                <!-- inputs de validacion de contraseña -->
                <div class="cajaTextoSeleccionAssesment">
                    <div class="cajaSelectorCentrado margenAbajo">
                        <input style="height:100%; width:100%; border-radius:5px;" type="password" name="password"
                               id="password">
                    </div>
                </div>
                <!-- boton de insertar datos -->
                <div class="cajaBotonSeleccionAssesment">
                    <div class="cajaBotonSeleccion ">
                        <button style="font-size:1.5vw;" class="btn btn-outline-secondary btn-lg btn-block"
                                type="submit" id="boton3" name="boton3" value="btn3">Crear Usuario
                        </button>
                    </div>
                </div>

            </form>
        </div>
    </div>
</div>




<script type="text/javascript">

    $(function() {
        $('select').selectpicker();
    });

</script>




{% endblock %}
