{% extends "base.html" %}

{% block titulo %} Seleccion assessment {% endblock %}

{% block contenido %}
{% load static %}

<div class="rowTitulo">
    <!-- Titulo con el nombre del assessment -->
    <div class="cajaTitulo">
        <h1>Seleccion de Assessment</h1>
    </div>
</div>

<div class="rowTitulo">
    <div class="cajaSeleccionAsssessment">
        <div class="tarjeta">
            <div class="tituloTarjeta">
                <div class="cuadrotexto">
                    Assessment Existente
                </div>
            </div>
            <form class="textoTarjeta" method="post">
                {% csrf_token %}
                <div class="cajaTextoSeleccionAssesment contenidoAbajo">
                    <div class="margenArriba">
                        <label> Seleccione un Assessment</label>
                    </div>
                </div>
                <div class="cajaTextoSeleccionAssesment">
                    <div class="cajaSelectorCentrado margenAbajo">
                        <select  class="selectpicker" data-width="100%" aria-label="Default select example" data-live-search="true"  onchange="this.form.submit()"  id="selector1" name="selector1">
                            <option value="None">--- No Seleccionado ---</option>
                            {% for ids in assess %}
                            <option value="{{ids.id_assessment}}">{{ids.id_assessment}}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
{% if perms.acounts.puede_crear_assesment %}
<div class="rowTitulo">
    <div class="cajaTitulo fontGrande">
        รณ
    </div>
</div>

<div class="rowTitulo">
    <div class="cajaSeleccionAsssessment">
        <div class="tarjeta">
            <div class="tituloTarjeta">
                <div class="cuadrotexto">
                    Crear un assesment
                </div>
            </div>
            <form class="textoTarjeta" method="post">
                {% csrf_token %}

                <div class="cajaTextoSeleccionAssesment contenidoAbajo">
                    <div class="margenArriba">
                        <label> Introduzca el Nombre del Assessment</label>
                    </div>
                </div>
                <div class="cajaTextoSeleccionAssesment">
                    <div class="cajaSelectorCentrado margenAbajo">
                        <input style="height:100%; width:100%; border-radius:5px;" type="text" name="in" id="in">
                    </div>
                </div>
                <div class="cajaTextoSeleccionAssesment contenidoAbajo">
                    <div class="margenArriba">
                        <label> Seleccione los controles</label>
                    </div>
                </div>
                <div class="cajaTextoSeleccionAssesment">
                    <div class="cajaSelectorCentrado margenAbajo">
                        <select multiple class="select" data-live-search="true" data-width="100%" id="selector2" name="selector2" data-actions-box="true" >
                            {% for ids in marcos %}
                            <option value="{{ids.marco_id}}">{{ids.marco_id}}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="cajaBotonSeleccionAssesment">
                    <div class="cajaBotonSeleccion ">
                        <button style="font-size:1.2vw;" class="btn btn-outline-secondary btn-lg btn-block" data-bs-toggle="modal" data-bs-target="#myModal" type="submit" id="boton3" name="boton3" value="btn3">Crear Assessment</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<div class="modal fade " id="myModal" data-bs-backdrop="static" data-bs-keyboard="false"  aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog  modal-dialog-centered" >
        <div class="modal-content">
          <div class="modal-header" style="text-align:center;">
              <div class="cajaCarga">
                  <h5 class="modal-title" id="exampleModalLabel">Creando Assessment</h5>
              </div>
          </div>
          <div class="modal-body">
              <div class="cajaCarga">
                  <div class="spinner-border text-primary" style="width: 100px; height: 100px;" role="status">
                      <span class="visually-hidden">Cargando...</span>
                    </div>
              </div>
          </div>

        </div>
    </div>
</div>
{% endif %}

{% if messages %}
    {% for message in messages %}
        {% if message.tags %}
            <script type="text/javascript">
                setTimeout(() => {
                    window.alert("{{ message }}")
                }, 100);
            </script>
        {% endif %}

    {% endfor %}
{% endif %}

<script type="text/javascript">

    $(function() {
        $('select').selectpicker();
    });

    var myModal = new bootstrap.Modal(document.getElementById('myModal'), options)

</script>






{% endblock %}
